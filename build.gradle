/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java Library project to get you started.
 * For more details take a look at the Java Libraries chapter in the Gradle
 * User Manual available at https://docs.gradle.org/6.2.1/userguide/java_library_plugin.html
 */

plugins {
    id 'java'
    id 'io.qameta.allure' version '2.8.1'
}

version '1.0-SNAPSHOT'


def allureVersion = "2.13.6"
def testngVersion = "6.14.3"
def cucumberVersion = "5.7.0"
def selenideVersion = "5.13.0"
def allureselenideversion = "2.13.6"
def assertjVersion ="3.22.0"

//def jsonVersion = "1.1.1"
def gsonVersion="2.3.1"
def jsonPathVersion="2.6.0"
def sl4jVersion = "1.7.32"
def poiVersion="5.0.0"
def gherkinVersion="4.1.3"
def monteRecorderVersion="0.7.7.0"
//def serenityVesrion="2.2.6"

compileJava.options.encoding = "UTF-8"
compileTestJava.options.encoding = "UTF-8"

allure {
    autoconfigure = false
    aspectjweaver = true
    version = allureVersion
    clean = true
    configuration = "testImplementation"
}

repositories {
    mavenCentral()
    mavenLocal()
}

dependencies {
    implementation("com.codeborne:selenide:$selenideVersion")
    implementation("io.qameta.allure:allure-selenide:$allureselenideversion")
    implementation("com.google.code.gson:gson:$gsonVersion")
    implementation("com.jayway.jsonpath:json-path:$jsonPathVersion")
    implementation("com.github.stephenc.monte:monte-screen-recorder:$monteRecorderVersion")
    //implementation("net.serenity-bdd:serenity-cucumber5:$serenityVesrion")
    implementation("org.apache.poi:poi:$poiVersion")
    implementation("org.apache.poi:poi-ooxml:$poiVersion")
    implementation("io.cucumber:gherkin:$gherkinVersion")
    implementation ("tech.grasshopper:extentreports-cucumber5-adapter:2.9.0")
    implementation ("org.assertj:assertj-core:$assertjVersion")
    testImplementation("io.qameta.allure:allure-cucumber5-jvm:$allureVersion")
    testImplementation("io.cucumber:cucumber-testng:$cucumberVersion")
    testImplementation("io.cucumber:cucumber-java:$cucumberVersion")
    testImplementation("io.cucumber:cucumber-picocontainer:$cucumberVersion")
    testImplementation("org.testng:testng:$testngVersion")
    testImplementation("org.slf4j:slf4j-simple:$sl4jVersion")
    implementation("org.apache.logging.log4j:log4j-api:2.17.1")
    implementation("org.apache.logging.log4j:log4j-core:2.17.1")
}

test {
    ignoreFailures = true
    useTestNG {
        useDefaultListeners = true
        suites 'src/test/test_suites/'+System.getenv("TestSuite")+'.xml'
    }
}